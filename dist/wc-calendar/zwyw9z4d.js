/*! Built with http://stenciljs.com */
const{h:e}=window.WcCalendar;class t{constructor(){this.languageCode="en",this.isSundayFirst=!1,this.showToolbar=!1,this.datePicker=!1,this.languages={en:{day_of_week_short:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],day_of_week:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},de:{day_of_week_short:["Mo","Di","Mi","Do","Fr","Sa","So"],day_of_week:["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},bs:{day_of_week_short:["Pon","Uto","Sri","Čet","Pet","Sub","Ned"],day_of_week:["Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota","Nedjelja"],months:["Januar","Februar","Mart","April","Maj","Juni","Juli","Avgust","Septembar","Oktobar","Novembar","Decembar"]}},this.newDate=new Date,this.currentDay=this.newDate.getDate(),this.currentMonth=this.newDate.getMonth(),this.currentYear=this.newDate.getFullYear(),this.days=[],this.events=[],this.rangedDays=[],this.selectedDays=[],this.year=this.newDate.getFullYear(),this.month=this.newDate.getMonth(),this.showCalendar=!1,this.selectionType="day"}selectDay(e,t,a){this.month=t,this.year=a,this.days=this._getCalendarDays(a,t),this._getCurrentMonthEvents(),this._selectDay({day:e,month:t+1,year:a})}showPreviousMonth(){this._showPreviousMonth()}showNextMonth(){this._showNextMonth()}changeYear(e){this._changeYear(e)}selectToday(){this.selectDay(this.currentDay,this.currentMonth,this.currentYear)}setEvents(e){this.days=this._getCalendarDays(this.year,this.month),this.events=e,this._getCurrentMonthEvents()}getEvents(){return this.events}getFullMonth(){return this.days}clearSelectedDay(){this.selectedDay=null,this.dayIndex=null}clearSelectedDays(){this.selectedDays=[]}clearPickedDate(){this.pickedDate=null}addEvent(e){this.events.push(e),this._getCurrentMonthEvents(),this.clearSelectedDay()}replaceEvent(e){const t=this._getDayIndex(this.events,e),a=this._getDayIndex(this.days,e);-1!==t&&-1!==a&&(this._removeEventData(t,a),this.events.push(e),this._getCurrentMonthEvents())}removeEvent(e){const t=this._getDayIndex(this.events,e),a=this._getDayIndex(this.days,e);-1!==t&&-1!==a&&this._removeEventData(a,t)}componentWillLoad(){this.isSundayFirst&&this.languages[this.languageCode||"en"].day_of_week_short.unshift(this.languages[this.languageCode||"en"].day_of_week_short.pop()),this.days=this._getCalendarDays(this.year,this.month),this._getCurrentMonthEvents()}normalizeDay(e){switch(e){case 0:return 6;case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5}}_getCalendarDays(e,t){const a=new Date(e,t),s=this.isSundayFirst?a.getDay():this.normalizeDay(a.getDay()),n=new Date(e,t+1,0).getDate(),h=new Date(e,t,0),i=7*Math.ceil((n+s)/7);let o=[],d=h.getDate()-s,r=0;for(let e=0;e<i;e++){const t=e>n+s-1,h=e<s?{day:++d,month:this.month,year:a.getFullYear(),hasEvent:!1,data:[]}:{day:t?++r:e-s+1,month:t?this.month+2:this.month+1,year:a.getFullYear(),hasEvent:!1,data:[]};o.push(h)}return o}_getRangedDays(e,t){let a=[];const s=new Date(e.year,e.month-1,e.day),n=new Date(t.year,t.month-1,t.day);for(let e=new Date(s);e<=n;e.setDate(e.getDate()+1)){let t={day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()};t.data=this._getTodayEvents(t),t.hasEvent=t.data.length>0,a.push(t)}return a}_getTodayEvents(e){return this.events.filter(t=>t.day==e.day&&t.month==e.month&&t.year==e.year)}_getCurrentMonthEvents(){for(let e=0;e<this.days.length;e++){let t=this._getTodayEvents(this.days[e]);t.length>0&&(this.days[e].data=t,this.days[e].hasEvent=!0)}}_getDayIndex(e,t){let a=-1;return e.forEach((e,s)=>{e.day==t.day&&e.month==t.month&&e.year==t.year&&(a=s)}),a}_showPreviousMonth(){0===this.month?(--this.year,this.month=11):--this.month,this.days=this._getCalendarDays(this.year,this.month),this.selectedDay&&(this.dayIndex=this._getDayIndex(this.days,this.selectedDay)),this._getCurrentMonthEvents()}_showNextMonth(){11===this.month?(++this.year,this.month=0):++this.month,this.days=this._getCalendarDays(this.year,this.month),this.selectedDay&&(this.dayIndex=this._getDayIndex(this.days,this.selectedDay)),this._getCurrentMonthEvents()}_changeYear(e,t){this.year=e.target.value||t,this.month=0,this.days=this._getCalendarDays(this.year,this.month),this.selectedDay&&(this.dayIndex=this._getDayIndex(this.days,this.selectedDay)),this._getCurrentMonthEvents()}_changeMonth(e){this.month=this.languages[this.languageCode].months.indexOf(e.target.value),this.days=this._getCalendarDays(this.year,this.month),this.selectedDay&&(this.dayIndex=this._getDayIndex(this.days,this.selectedDay)),this._getCurrentMonthEvents()}_changeSelection(e){this.clearSelectedDay(),this.clearSelectedDays(),this.clearPickedDate(),this.selectionType=e.target.value}_selectDay(e){this.selectedDay===e?this.clearSelectedDay():(this.selectedDay=e,this.dayIndex=this._getDayIndex(this.days,this.selectedDay),this.onDaySelected.emit(e),this.datePicker&&(this.pickedDate=this._formatPicked(e),setTimeout(()=>this.showCalendar=!1,100)))}_selectMultiple(e){if(2===this.selectedDays.length&&(this.clearSelectedDays(),this.clearSelectedDay(),this.clearPickedDate()),this.selectedDay&&0===this.selectedDays.length)return void this.selectedDays.push(this.selectedDay);if(0===this.selectedDays.length)return this.selectedDays.push(e),void(this.pickedDate=this._formatPicked(this.selectedDays[0]));let t=new Date(e.year,e.month-1,e.day)<=new Date(this.selectedDays[0].year,this.selectedDays[0].month-1,this.selectedDays[0].day);1===this.selectedDays.length&&(t?this.selectedDays.unshift(e):this.selectedDays.push(e),this.pickedDate=`${this._formatPicked(this.selectedDays[0])} - ${this._formatPicked(this.selectedDays[1])}`,this.rangedDays=this._getRangedDays(this.selectedDays[0],this.selectedDays[1]),this.onRangeSelected.emit(this.rangedDays))}_onAddEvent(){this.onAddEvent.emit({action:"event add",eventDay:this.selectedDay})}_onReplaceEvent(){this.onReplaceEvent.emit({action:"event replace,",eventDay:this.selectedDay.data})}_onRemoveEvent(){this.onRemoveEvent.emit({action:"event remove",eventDay:this.selectedDay.data})}_removeEventData(e,t){this.days[e].data=[],this.days[e].hasEvent=!1,this.events.splice(t,1),this.clearSelectedDay()}_switchCalendarBool(){this.showCalendar=!this.showCalendar}_formatDate(e){return e<10?"0"+e:e.toString()}_formatPicked(e){return`${this._formatDate(e.day)}-${this._formatDate(e.month)}-${e.year.toString()}`}render(){let t,a,s,n,h=[];return this.languages[this.languageCode].months.forEach(t=>{t===this.languages[this.languageCode].months[this.month]?h.push(e("option",{selected:!0,value:t},t)):h.push(e("option",{value:t},t))}),this.selectedDay&&(n=e("div",{class:"bc_toolbar-end"},e("button",{class:"bc_toolbar-action-button bc_button-success",onClick:()=>this._onAddEvent()},"Add event"),this.selectedDay.hasEvent?e("span",null,e("button",{class:"bc_toolbar-action-button bc_button-success",onClick:()=>this._onReplaceEvent()}," ","Replace event"),e("button",{class:"bc_toolbar-action-button bc_button-danger",onClick:()=>this._onRemoveEvent()},"Remove all events")):"")),this.showToolbar&&(s=e("div",null,e("div",{class:"bc_calendar-toolbar-top"},e("div",{class:"bc_toolbar-start"},e("button",{class:"bc_toolbar-button",onClick:()=>this.selectToday()},"Today")),n),e("div",{class:"bc_calendar-toolbar-bottom"},e("select",{class:"bc_selection-select",onChange:e=>this._changeSelection(e)},e("option",{value:"day",selected:!0},"Day"),e("option",{value:"range"},"Range"))))),t=e("div",{class:"bc_calendar-container"},e("div",{class:"bc_calendar-header"},e("div",{class:"bc_header-left",onClick:()=>this._showPreviousMonth()},e("button",{class:"bc_nav-button-left"})),e("div",{class:"bc_header-year"},e("select",{class:"bc_header-month-select",onChange:e=>this._changeMonth(e)},h),e("input",{class:"bc_year-input-number",type:"number",value:this.year,onChange:e=>this._changeYear(e)})),e("div",{class:"bc_header-right",onClick:()=>this._showNextMonth()},e("button",{class:"bc_nav-button-right"}))),e("div",{class:"bc_calendar-days bc_calendar-days-name"},this.languages[this.languageCode||"en"].day_of_week_short.map(t=>e("div",{class:"bc_day-name"},t))),e("div",{class:"bc_calendar-days"},this.days.map(t=>e("div",{class:(this.days.indexOf(t)==this.dayIndex||t===this.selectedDays[0]?"bc_active-day":"")+(t===this.selectedDays[1]?"bc_range-end-day":""),onClick:()=>"range"!==this.selectionType?this._selectDay(t):this._selectMultiple(t)},e("span",{class:(t.month!==this.month+1?"bc_muted-day":"")+(t.day===this.currentDay&&t.month===this.currentMonth+1&&t.year===this.currentYear?"bc_current-day":"")},t.day,e("span",{class:t.hasEvent?"bc_day-event-dot":""}))))),s),a=e("div",{class:"bc_date-picker"},e("div",{class:"bc_input-with-icon",onClick:()=>this._switchCalendarBool()},e("input",{type:"text",value:this.pickedDate,disabled:!0,class:"bc_date-picker-input"}),e("i",{class:"bc_calendar-icon"})),e("div",{class:"calendar-dropdown"},this.showCalendar?t:"")),e("div",null,this.datePicker?a:t)}static get is(){return"bind-calendar-picker"}static get properties(){return{addEvent:{method:!0},changeYear:{method:!0},clearPickedDate:{method:!0},clearSelectedDay:{method:!0},clearSelectedDays:{method:!0},datePicker:{type:Boolean,attr:"date-picker"},dayIndex:{state:!0},days:{state:!0},events:{state:!0},getEvents:{method:!0},getFullMonth:{method:!0},isSundayFirst:{type:Boolean,attr:"is-sunday-first"},languageCode:{type:String,attr:"language-code"},languages:{state:!0},month:{state:!0},pickedDate:{state:!0},rangedDays:{state:!0},removeEvent:{method:!0},replaceEvent:{method:!0},selectDay:{method:!0},selectedDay:{state:!0},selectedDays:{state:!0},selectionType:{state:!0},selectToday:{method:!0},setEvents:{method:!0},showCalendar:{state:!0},showNextMonth:{method:!0},showPreviousMonth:{method:!0},showToolbar:{type:Boolean,attr:"show-toolbar"},year:{state:!0}}}static get events(){return[{name:"onDaySelected",method:"onDaySelected",bubbles:!0,cancelable:!0,composed:!0},{name:"onRangeSelected",method:"onRangeSelected",bubbles:!0,cancelable:!0,composed:!0},{name:"onAddEvent",method:"onAddEvent",bubbles:!0,cancelable:!0,composed:!0},{name:"onReplaceEvent",method:"onReplaceEvent",bubbles:!0,cancelable:!0,composed:!0},{name:"onRemoveEvent",method:"onRemoveEvent",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".bc_calendar-container{margin:0 auto;background-color:#fff;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;padding:16px}.bc_calendar-header{display:grid;grid-template-columns:15% 70% 15%;margin-bottom:18px}.bc_header-year{text-align:center;font-size:1.2em;font-family:\"Ubuntu Regular\";color:#4b4b4b}.bc_header-right{text-align:right}.bc_nav-button-left,.bc_nav-button-right{background-color:transparent;border:none;outline:0;cursor:pointer}.bc_nav-button-left:focus,.bc_nav-button-right:focus{border:none;outline:0}.bc_nav-button-left{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMjE3LjkgMjU2TDM0NSAxMjljOS40LTkuNCA5LjQtMjQuNiAwLTMzLjktOS40LTkuNC0yNC42LTkuMy0zNCAwTDE2NyAyMzljLTkuMSA5LjEtOS4zIDIzLjctLjcgMzMuMUwzMTAuOSA0MTdjNC43IDQuNyAxMC45IDcgMTcgN3MxMi4zLTIuMyAxNy03YzkuNC05LjQgOS40LTI0LjYgMC0zMy45TDIxNy45IDI1NnoiLz48L3N2Zz4=);background-repeat:no-repeat;width:25px;height:25px;cursor:pointer}.bc_nav-button-right{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMjk0LjEgMjU2TDE2NyAxMjljLTkuNC05LjQtOS40LTI0LjYgMC0zMy45czI0LjYtOS4zIDM0IDBMMzQ1IDIzOWM5LjEgOS4xIDkuMyAyMy43LjcgMzMuMUwyMDEuMSA0MTdjLTQuNyA0LjctMTAuOSA3LTE3IDdzLTEyLjMtMi4zLTE3LTdjLTkuNC05LjQtOS40LTI0LjYgMC0zMy45bDEyNy0xMjcuMXoiLz48L3N2Zz4=);background-repeat:no-repeat;width:25px;height:25px;cursor:pointer}.bc_header-month-select,.bc_selection-select{border:0;outline:0;font-size:1em;background-color:#f3f3f3;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;cursor:pointer!important}.bc_selection-select{width:100%;padding:4px;border-radius:4px}.bc_header-month-select{margin-right:10px}.bc_header-month{font-family:\"Ubuntu Regular\";margin-right:4px}.bc_year-input-number{display:inline-block;width:3.3em;border:none;background-color:transparent;font-family:\"Ubuntu Medium\";font-size:1em;font-weight:600;color:#4a4a4c}.bc_calendar-days-name{margin-bottom:20px}.bc_day-name{font-family:\"Ubuntu Regular\";font-weight:600;text-align:center;color:#4b4b4b}.bc_calendar-days{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr;grid-gap:8px;margin-bottom:10px;text-align:center}.bc_calendar-days>div{font-family:\"Ubuntu Light\";padding:4px;cursor:pointer}.bc_active-day{background-color:#00da79;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;color:#fff}.bc_active-day .bc_current-day,.bc_active-day .bc_muted-day{color:#fff!important}.bc_range-end-day{background-color:#f55b5b;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;color:#fff}.bc_range-end-day .bc_current-day,.bc_range-end-day .bc_muted-day{color:#fff!important}.bc_muted-day{color:#adadad}.bc_day-event-dot{height:5px;width:5px;background-color:#00ffb8;border-radius:50%;display:block;position:relative;left:80%;top:-20px}\@media (min-width:440px){.bc_day-event-dot{left:6.65vw}}\@media (min-width:1150px){.bc_day-event-dot{left:6.95vw}}.bc_current-day{color:#00da79!important}.bc_toolbar-action-button,.bc_toolbar-button{background-color:#e5e5e5;color:#4b4b4b;padding:6px;border-radius:4px;border:none;font-size:.8em}.bc_toolbar-action-button:active,.bc_toolbar-button:active{background-color:#d6d6d6}.bc_calendar-toolbar-top{display:grid;grid-template-columns:10% 90%;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5;padding:6px 0 6px 0;margin-bottom:10px}.bc_calendar-toolbar-bottom{width:100%}.bc_toolbar-action-button{margin-left:4px}.bc_toolbar-end{text-align:right}.bc_button-danger{background-color:#f55b5b;color:#fff}.bc_button-danger:active{background-color:#f56a6c}.bc_button-success{background-color:#21da9c;color:#fff}.bc_button-success:active{background-color:#22e2a2}.bc_date-picker{margin:16px 0 16px 0}input[type=text].bc_date-picker-input{width:100%;background-color:#fff;border:2px solid #aaa;border-radius:4px;margin:8px 0;outline:0;padding:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.3s;transition:.3s;cursor:pointer}input[type=text].bc_date-picker-input:focus{border-color:#1e90ff;-webkit-box-shadow:0 0 8px 0 #1e90ff;box-shadow:0 0 8px 0 #1e90ff}.bc_input-with-icon input[type=text].bc_date-picker-input{padding-right:40px}.bc_input-with-icon{position:relative}.bc_input-with-icon i{position:absolute;right:0;top:8px;padding:9px 8px;color:#aaa;-webkit-transition:.3s;transition:.3s}.bc_input-with-icon input[type=text].bc_date-picker-input:focus+i{color:#1e90ff}.bc_calendar-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMzY4LjAwNSAyNzJoLTk2djk2aDk2di05NnptLTMyLTIwOHYzMmgtMTYwVjY0aC00OHYzMmgtMjQuMDFjLTIyLjAwMiAwLTQwIDE3Ljk5OC00MCA0MHYyNzJjMCAyMi4wMDIgMTcuOTk4IDQwIDQwIDQwaDMwNC4wMWMyMi4wMDIgMCA0MC0xNy45OTggNDAtNDBWMTM2YzAtMjIuMDAyLTE3Ljk5OC00MC00MC00MGgtMjRWNjRoLTQ4em03MiAzNDRoLTMwNC4wMVYxOTZoMzA0LjAxdjIxMnoiLz48L3N2Zz4=);background-repeat:no-repeat;margin:8px;width:10px;cursor:pointer}"}}export{t as BindCalendarPicker};